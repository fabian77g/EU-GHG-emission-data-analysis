import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

patheu = "C:\\Users\\fabia\\OneDrive\\Documentos\\Courses\\IBM\\Data Analysis\\EDF\\csv.csv"
dfeuro= pd.read_csv(patheu, sep=";",index_col=0)


dff = dfeuro[['1990', '1991', '1992', '1993', '1994', '1995', '1996','1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004', '2005','2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014','2015', '2016', '2017', '2018']].replace(",",".", regex =True).astype(float)
#dff["Country"]= dfeuro["Country"]
#dff = dff[["Country",'1990', '1991', '1992', '1993', '1994', '1995', '1996','1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004', '2005','2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014','2015', '2016', '2017', '2018']]


dff[['1990', '1991', '1992', '1993', '1994', '1995', '1996','1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004', '2005','2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014','2015', '2016', '2017', '2018']].sum()

#maxi = dff.loc[dff['1990'] == dff["1990"].max()]


six_years = dff[["1990", "2000", "2010","2015", "2018"]]

#First Graph Subplots  six years Countries vs MTCO2e
axes = six_years.plot.bar(rot=0, subplots=True,sharex=True)
plt.xticks(rotation=90)
plt.xlabel('Countries')
plt.ylabel('MTCO2e')

maxi = dff.loc[dff['1990'] == dff["1990"].max()]
maxxi =dff[['1990', '1991', '1992', '1993', '1994', '1995', '1996','1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004', '2005','2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014','2015', '2016', '2017', '2018']].sum()
year = ['1990', '1991', '1992', '1993', '1994', '1995', '1996','1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004', '2005','2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014','2015', '2016', '2017', '2018']



dataframe = maxxi.to_frame()
dataframe2 = dataframe.assign(year = year)




#maxi["year"] = maxi[["year",'1990', '1991', '1992', '1993', '1994', '1995', '1996','1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004', '2005','2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014','2015', '2016', '2017', '2018']]